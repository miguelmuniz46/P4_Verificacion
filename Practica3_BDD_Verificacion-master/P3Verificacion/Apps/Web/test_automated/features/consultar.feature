Feature: Consultar
  Scenario: Press reset
    Given Open server
    When Write "https://www.xataka.com/legislacion-y-derechos/desde-hoy-la-gdpr-pasa-a-ser-de-obligado-cumplimiento-que-significa-y-como-afectara-a-servicios-y-usuarios" y el dia actual
    Then Press "resetear"
    And The url is deleted

  Scenario: Press ejecutar without text
    Given Open server
    Then Press "ejecutar"
    And Nothing happens

  Scenario: Write an invalid URL
    Given Open server
    When Write "hola" y el dia actual
    Then Press "ejecutar"
    And I see the result "URL no valida"

  Scenario: Write Date wrong
    Given Open server
    When Write "https://www.xataka.com/legislacion-y-derechos/desde-hoy-la-gdpr-pasa-a-ser-de-obligado-cumplimiento-que-significa-y-como-afectara-a-servicios-y-usuarios" y "hola"
    Then Press "ejecutar"
    And I see the db result "Valor no valido de dia_mes"

  Scenario: Write Date wrong part 2
    Given Open server
    When Write "https://www.xataka.com/legislacion-y-derechos/desde-hoy-la-gdpr-pasa-a-ser-de-obligado-cumplimiento-que-significa-y-como-afectara-a-servicios-y-usuarios" y "89_3"
    Then Press "ejecutar"
    And I see the db result "El formato dia_mes no es el adecuado"


  Scenario: Write URL and press ejecutar
    Given Open server
    When Write "https://www.xataka.com/legislacion-y-derechos/desde-hoy-la-gdpr-pasa-a-ser-de-obligado-cumplimiento-que-significa-y-como-afectara-a-servicios-y-usuarios" y el dia actual
    Then Press "ejecutar"
    And I see the result "[('datos', 18), ('más', 15), ('es', 14), ('gdpr', 14), ('empresas', 12), ('personales', 11), ('también', 11), ('no', 10), ('ser', 10), ('usuarios', 8), ('normativa', 8), ('hoy', 7), ('qué', 7), ('nuestros', 6), ('cómo', 6), ('han', 6), ('nueva', 6), ('cumplir', 6), ('como', 6), ('privacidad', 6), ('ver', 6), ('europea', 5), ('partir', 5), ('cambios', 5), ('tienen', 5), ('algunas', 5), ('xataka', 4), ('mucho', 4), ('obligado', 4), ('cumplimiento', 4), ('servicios', 4), ('protección', 4), ('unión', 4), ('normas', 4), ('años', 4), ('hora', 4), ('todos', 4), ('europeos', 4), ('tener', 4), ('aunque', 4), ('podrán', 4), ('están', 4), ('consentimiento', 4), ('compartir', 3), ('pasa', 3), ('vigor', 3), ('dos', 3), ('requisitos', 3), ('vamos', 3), ('hacen', 3), ('ellos', 3), ('seguir', 3), ('multas', 3), ('sea', 3), ('poder', 3), ('además', 3), ('políticas', 3), ('derecho', 3), ('sólo', 3), ('hecho', 3), ('está', 3), ('cambio', 3), ('ha', 3), ('partners', 2), ('artículos', 2), ('suscribir', 2), ('año', 2), ('españa', 2), ('vida', 2), ('tiene', 2), ('significa', 2), ('afectará', 2), ('general', 2), ('siglas', 2), ('inglés', 2), ('derechos', 2), ('mientras', 2), ('recopilan', 2), ('24', 2), ('mayo', 2), ('2016', 2), ('esperar', 2), ('última', 2), ('semanas', 2), ('algunos', 2), ('data', 2), ('protection', 2), ('ciudadanos', 2), ('primera', 2), ('países', 2), ('ue', 2), ('unificadas', 2), ('ya', 2), ('europa', 2), ('hacer', 2), ('bien', 2), ('borrarlos', 2), ('revocarles', 2), ('permiso', 2), ('ahora', 2), ('pueden', 2), ('todo', 2), ('mundo', 2), ('menores', 2), ('gran', 2), ('parte', 2), ('mayores', 2), ('leyes', 2), ('cuál', 2), ('claro', 2), ('estamos', 2), ('nuestro', 2), ('procesando', 2), ('tendrán', 2), ('entendibles', 2), ('cuando', 2), ('sean', 2), ('empresa', 2), ('otras', 2), ('entidades', 2), ('páginas', 2), ('necesarios', 2), ('haciendo', 2), ('notable', 2), ('whois', 2), ('icann', 2), ('organismo', 2), ('hemos', 2), ('decidido', 2), ('bloquear', 2), ('acceso', 2), ('facebook', 2), ('cualquier', 2), ('comentarios', 2), ('temas', 2), ('latinoamérica', 2), ('suscríbete', 1), ('recibe', 1), ('email', 1), ('día', 1), ('son', 1), ('estrenos', 1), ('anime', 1), ('interesantes', 1), ('netflix', 1), ('movistar', 1), ('filmin', 1), ('prime', 1), ('video', 1), ('2018', 1), ('realidades', 1), ('extendidas', 1), ('rv', 1), ('ra', 1), ('rm', 1), ('solo', 1), ('separar', 1), ('profesional', 1), ('personal', 1), ('doble', 1), ('sim', 1), ('sirve', 1), ('ideas', 1), ('explotar', 1), ('posibilidades', 1), ('ambient', 1), ('mode', 1), ('triunfo', 1), ('precedentes', 1), ('rocket', 1), ('league', 1), ('historia', 1), ('éxito', 1), ('inesperado', 1), ('levanta', 1), ('inventa', 1), ('ia', 1), ('1956', 1), ('sí', 1), ('ecoeficiente', 1), ('casa', 1), ('impacto', 1), ('real', 1), ('medioambiente', 1), ('puede', 1), ('interesar', 1), ('reglamento', 1), ('rgpd', 1), ('gracias', 1), ('él', 1), ('ganan', 1), ('nuevos', 1), ('relacionados', 1), ('tratan', 1), ('endurecen', 1), ('entró', 1), ('entonces', 1), ('tenido', 1), ('adaptarse', 1), ('explicarte', 1), ('forma', 1), ('resumida', 1), ('puedes', 1), ('ido', 1), ('reaccionando', 1), ('todas', 1), ('dejado', 1), ('últimas', 1), ('dado', 1), ('titulares', 1), ('recordar', 1), ('regulation', 1), ('regula', 1), ('vivan', 1), ('norma', 1), ('tipo', 1), ('afecta', 1), ('igual', 1), ('suponiendo', 1), ('juego', 1), ('deben', 1), ('muchas', 1), ('sectores', 1), ('tecnológico', 1), ('venían', 1), ('pidiendo', 1), ('características', 1), ('operar', 1), ('tenían', 1), ('frente', 1), ('28', 1), ('legislaciones', 1), ('diferentes', 1), ('uso', 1), ('tratamiento', 1), ('entraron', 1), ('pasan', 1), ('cumplirlo', 1), ('fuera', 1), ('traten', 1), ('esencia', 1), ('busca', 1), ('proteger', 1), ('expliquen', 1), ('podamos', 1), ('oportunidad', 1), ('procesándolos', 1), ('organizaciones', 1), ('vulneran', 1), ('marco', 1), ('legal', 1), ('establece', 1), ('altas', 1), ('imponían', 1), ('4', 1), ('facturan', 1), ('20', 1), ('millones', 1), ('euros', 1), ('cantidad', 1), ('grande', 1), ('habrá', 1), ('2', 1), ('facturación', 1), ('global', 1), ('anual', 1), ('incumplimientos', 1), ('leves', 1), ('contenido', 1), ('basa', 1), ('reglas', 1), ('establecidas', 1), ('medidas', 1), ('anteriores', 1), ('privacy', 1), ('shield', 1), ('directive', 1), ('embargo', 1), ('amplía', 1), ('protegían', 1), ('puntos', 1), ('fundamentales', 1), ('obtener', 1), ('sanciones', 1), ('severas', 1), ('sacar', 1), ('propias', 1), ('proceso', 1), ('tramitación', 1), ('parlamentaria', 1), ('contradecir', 1), ('definir', 1), ('aspectos', 1), ('dejen', 1), ('lugar', 1), ('interpretaciones', 1), ('edad', 1), ('considera', 1), ('menor', 1), ('usuario', 1), ('hace', 1), ('explicamos', 1), ('fondo', 1), ('supone', 1), ('resumirlo', 1), ('quede', 1), ('característica', 1), ('principal', 1), ('tendremos', 1), ('mayor', 1), ('control', 1), ('registrados', 1), ('empezar', 1), ('necesitarán', 1), ('explícito', 1), ('claras', 1), ('informado', 1), ('términos', 1), ('decir', 1), ('da', 1), ('envíen', 1), ('copias', 1), ('permitirnos', 1), ('queramos', 1), ('sigan', 1), ('así', 1), ('quisiéramos', 1), ('olvido', 1), ('estará', 1), ('sujeto', 1), ('condiciones', 1), ('conflicto', 1), ('libertad', 1), ('información', 1), ('interés', 1), ('público', 1), ('último', 1), ('vez', 1), ('obtenidos', 1), ('recopilados', 1), ('tenemos', 1), ('cedérselos', 1), ('desarrollar', 1), ('software', 1), ('pensando', 1), ('explícitamente', 1), ('salvaguardar', 1), ('nuestra', 1), ('llama', 1), ('diseño', 1), ('proporcionar', 1), ('grandes', 1), ('tienes', 1), ('blog', 1), ('newsletter', 1), ('foro', 1), ('vas', 1), ('asegurarte', 1), ('toca', 1), ('estrictamente', 1), ('familiares', 1), ('aplicar', 1), ('lleva', 1), ('haya', 1), ('daños', 1), ('colaterales', 1), ('internet', 1), ('punto', 1), ('matar', 1), ('debido', 1), ('pereza', 1), ('mantiene', 1), ('base', 1), ('pública', 1), ('propietarios', 1), ('dominios', 1), ('organismos', 1), ('negaron', 1), ('moratorias', 1), ('principios', 1), ('semana', 1), ('anunció', 1), ('temporal', 1), ('directorio', 1), ('dejarán', 1), ('públicos', 1), ('temporalmente', 1), ('intereses', 1), ('legítimos', 1), ('acceder', 1), ('contado', 1), ('internacionales', 1), ('ips', 1), ('europeas', 1), ('trata', 1), ('muy', 1), ('pocos', 1), ('beneficios', 1), ('preparan', 1), ('sancionados', 1), ('pida', 1), ('concisas', 1), ('teniendo', 1), ('algún', 1), ('efecto', 1), ('negativo', 1), ('precisamente', 1), ('explicarlo', 1), ('viendo', 1), ('doblando', 1), ('tamaño', 1), ('manera', 1), ('volviendo', 1), ('largas', 1), ('leer', 1), ('hablado', 1), ('trampas', 1), ('redes', 1), ('sociales', 1), ('realizado', 1), ('permitir', 1), ('16', 1), ('usen', 1), ('whatsapp', 1), ('padres', 1), ('tutores', 1), ('casilla', 1), ('propios', 1), ('niños', 1), ('marcar', 1), ('hubieran', 1), ('nada', 1), ('cumplido', 1), ('presentando', 1), ('herramienta', 1), ('borrar', 1), ('historiales', 1), ('anunciado', 1), ('varios', 1), ('otros', 1), ('nuevas', 1), ('opciones', 1), ('configuraciones', 1), ('caso', 1), ('legislación', 1), ('pone', 1), ('seria', 1), ('estaremos', 1), ('atentos', 1), ('otro', 1), ('aplique', 1), ('quedaremos', 1), ('esperando', 1), ('multada', 1), ('haber', 1), ('estado', 1), ('suficientemente', 1), ('rápida', 1), ('imagen', 1), ('|', 1), ('dennis', 1), ('van', 1), ('der', 1), ('heijden', 1), ('instagram', 1), ('mejores', 1), ('27', 1), ('destacamos', 1), ('sitios', 1), ('gustarán', 1), ('reciente', 1), ('tv', 1), ('vídeos', 1), ('hablamos', 1), ('weblogs', 1), ('sl', 1), ('tecnología', 1), ('estilo', 1), ('motor', 1), ('economía', 1), ('ocio', 1), ('participamos', 1)]"

  Scenario: See db results
    Given: Open server
    When Write "https://www.xataka.com/legislacion-y-derechos/desde-hoy-la-gdpr-pasa-a-ser-de-obligado-cumplimiento-que-significa-y-como-afectara-a-servicios-y-usuarios" y el dia actual
    Then Press "ejecutar"
    And I see the db result "{'datos': 18, 'mas': 15, 'gdpr': 14, 'es': 14, 'empresas': 12, 'como': 12, 'tambien': 11, 'personales': 11, 'ser': 10, 'no': 10, 'usuarios': 8, 'normativa': 8, 'que': 7, 'hoy': 7, 'ver': 6, 'privacidad': 6, 'nueva': 6, 'nuestros': 6, 'han': 6, 'cumplir': 6, 'tienen': 5, 'partir': 5, 'europea': 5, 'cambios': 5, 'algunas': 5, 'xataka': 4, 'union': 4, 'todos': 4, 'tener': 4, 'solo': 4, 'servicios': 4, 'proteccion': 4, 'podran': 4, 'obligado': 4, 'normas': 4, 'mucho': 4, 'hora': 4, 'europeos': 4, 'estan': 4, 'cumplimiento': 4, 'consentimiento': 4, 'aunque': 4, 'anos': 4, 'vigor': 3, 'vamos': 3, 'seguir': 3, 'sea': 3, 'requisitos': 3, 'politicas': 3, 'poder': 3, 'pasa': 3, 'multas': 3, 'hecho': 3, 'hacen': 3, 'ha': 3, 'esta': 3, 'ellos': 3, 'dos': 3, 'derecho': 3, 'compartir': 3, 'cambio': 3, 'ademas': 3, 'ya': 2, 'whois': 2, 'vida': 2, 'unificadas': 2, 'ultima': 2, 'ue': 2, 'todo': 2, 'tiene': 2, 'tendran': 2, 'temas': 2, 'suscribir': 2, 'significa': 2, 'siglas': 2, 'semanas': 2, 'sean': 2, 'revocarles': 2, 'recopilan': 2, 'pueden': 2, 'protection': 2, 'procesando': 2, 'primera': 2, 'permiso': 2, 'partners': 2, 'parte': 2, 'paises': 2, 'paginas': 2, 'otras': 2, 'organismo': 2, 'nuestro': 2, 'notable': 2, 'necesarios': 2, 'mundo': 2, 'mientras': 2, 'menores': 2, 'mayores': 2, 'mayo': 2, 'leyes': 2, 'latinoamerica': 2, 'ingles': 2, 'icann': 2, 'hemos': 2, 'haciendo': 2, 'hacer': 2, 'gran': 2, 'general': 2, 'facebook': 2, 'europa': 2, 'estamos': 2, 'esperar': 2, 'espana': 2, 'entidades': 2, 'entendibles': 2, 'empresa': 2, 'derechos': 2, 'decidido': 2, 'data': 2, 'cuando': 2, 'cualquier': 2, 'cual': 2, 'comentarios': 2, 'claro': 2, 'ciudadanos': 2, 'borrarlos': 2, 'bloquear': 2, 'bien': 2, 'articulos': 2, 'ano': 2, 'algunos': 2, 'ahora': 2, 'afectara': 2, 'acceso': 2, '24': 2, '2016': 2, '|': 1, 'whatsapp': 1, 'weblogs': 1, 'vulneran': 1, 'volviendo': 1, 'vivan': 1, 'viendo': 1, 'videos': 1, 'video': 1, 'vez': 1, 'venian': 1, 'vas': 1, 'varios': 1, 'van': 1, 'usuario': 1, 'uso': 1, 'usen': 1, 'ultimo': 1, 'ultimas': 1, 'tv': 1, 'tutores': 1, 'triunfo': 1, 'traten': 1, 'tratan': 1, 'tratamiento': 1, 'trata': 1, 'trampas': 1, 'tramitacion': 1, 'todas': 1, 'toca': 1, 'titulares': 1, 'tipo': 1, 'tienes': 1, 'terminos': 1, 'teniendo': 1, 'tenido': 1, 'tenian': 1, 'tenemos': 1, 'tendremos': 1, 'temporalmente': 1, 'temporal': 1, 'tecnologico': 1, 'tecnologia': 1, 'tamano': 1, 'suscribete': 1, 'suponiendo': 1, 'supone': 1, 'sujeto': 1, 'suficientemente': 1, 'son': 1, 'software': 1, 'sociales': 1, 'sl': 1, 'sitios': 1, 'sirve': 1, 'sim': 1, 'sigan': 1, 'si': 1, 'shield': 1, 'severas': 1, 'seria': 1, 'separar': 1, 'semana': 1, 'sectores': 1, 'sanciones': 1, 'sancionados': 1, 'salvaguardar': 1, 'sacar': 1, 'rv': 1, 'rocket': 1, 'rm': 1, 'rgpd': 1, 'resumirlo': 1, 'resumida': 1, 'relacionados': 1, 'regulation': 1, 'regula': 1, 'reglas': 1, 'reglamento': 1, 'registrados': 1, 'redes': 1, 'recordar': 1, 'recopilados': 1, 'reciente': 1, 'recibe': 1, 'realizado': 1, 'realidades': 1, 'real': 1, 'reaccionando': 1, 'rapida': 1, 'ra': 1, 'quisieramos': 1, 'queramos': 1, 'quede': 1, 'quedaremos': 1, 'puntos': 1, 'punto': 1, 'puedes': 1, 'puede': 1, 'publicos': 1, 'publico': 1, 'publica': 1, 'protegian': 1, 'proteger': 1, 'proporcionar': 1, 'propios': 1, 'propietarios': 1, 'propias': 1, 'profesional': 1, 'proceso': 1, 'procesandolos': 1, 'privacy': 1, 'principios': 1, 'principal': 1, 'prime': 1, 'presentando': 1, 'preparan': 1, 'precisamente': 1, 'precedentes': 1, 'posibilidades': 1, 'pone': 1, 'podamos': 1, 'pocos': 1, 'pidiendo': 1, 'pida': 1, 'personal': 1, 'permitirnos': 1, 'permitir': 1, 'pereza': 1, 'pensando': 1, 'pasan': 1, 'participamos': 1, 'parlamentaria': 1, 'padres': 1, 'otros': 1, 'otro': 1, 'organizaciones': 1, 'organismos': 1, 'oportunidad': 1, 'operar': 1, 'opciones': 1, 'olvido': 1, 'ocio': 1, 'obtenidos': 1, 'obtener': 1, 'nuevos': 1, 'nuevas': 1, 'nuestra': 1, 'norma': 1, 'ninos': 1, 'newsletter': 1, 'netflix': 1, 'negativo': 1, 'negaron': 1, 'necesitaran': 1, 'nada': 1, 'muy': 1, 'multada': 1, 'muchas': 1, 'movistar': 1, 'motor': 1, 'moratorias': 1, 'mode': 1, 'millones': 1, 'menor': 1, 'mejores': 1, 'medioambiente': 1, 'medidas': 1, 'mayor': 1, 'matar': 1, 'marco': 1, 'marcar': 1, 'mantiene': 1, 'manera': 1, 'lugar': 1, 'lleva': 1, 'llama': 1, 'libertad': 1, 'leves': 1, 'levanta': 1, 'legitimos': 1, 'legislaciones': 1, 'legislacion': 1, 'legal': 1, 'leer': 1, 'league': 1, 'largas': 1, 'juego': 1, 'ips': 1, 'inventa': 1, 'interpretaciones': 1, 'internet': 1, 'internacionales': 1, 'intereses': 1, 'interesar': 1, 'interesantes': 1, 'interes': 1, 'instagram': 1, 'informado': 1, 'informacion': 1, 'inesperado': 1, 'incumplimientos': 1, 'imponian': 1, 'impacto': 1, 'imagen': 1, 'igual': 1, 'ido': 1, 'ideas': 1, 'ia': 1, 'hubieran': 1, 'historiales': 1, 'historia': 1, 'herramienta': 1, 'heijden': 1, 'haya': 1, 'hace': 1, 'habra': 1, 'hablamos': 1, 'hablado': 1, 'haber': 1, 'gustaran': 1, 'grandes': 1, 'grande': 1, 'gracias': 1, 'global': 1, 'ganan': 1, 'fundamentales': 1, 'fuera': 1, 'frente': 1, 'foro': 1, 'forma': 1, 'fondo': 1, 'filmin': 1, 'familiares': 1, 'facturan': 1, 'facturacion': 1, 'extendidas': 1, 'explotar': 1, 'expliquen': 1, 'explicito': 1, 'explicitamente': 1, 'explicarte': 1, 'explicarlo': 1, 'explicamos': 1, 'exito': 1, 'euros': 1, 'europeas': 1, 'estrictamente': 1, 'estrenos': 1, 'estilo': 1, 'estaremos': 1, 'estara': 1, 'estado': 1, 'establecidas': 1, 'establece': 1, 'esperando': 1, 'esencia': 1, 'envien': 1, 'entro': 1, 'entraron': 1, 'entonces': 1, 'endurecen': 1, 'empezar': 1, 'embargo': 1, 'email': 1, 'el': 1, 'efecto': 1, 'edad': 1, 'economia': 1, 'ecoeficiente': 1, 'dominios': 1, 'doble': 1, 'doblando': 1, 'diseno': 1, 'directorio': 1, 'directive': 1, 'diferentes': 1, 'dia': 1, 'destacamos': 1, 'desarrollar': 1, 'der': 1, 'dennis': 1, 'dejen': 1, 'dejaran': 1, 'dejado': 1, 'definir': 1, 'decir': 1, 'debido': 1, 'deben': 1, 'danos': 1, 'dado': 1, 'da': 1, 'cumplirlo': 1, 'cumplido': 1, 'copias': 1, 'control': 1, 'contradecir': 1, 'contenido': 1, 'contado': 1, 'considera': 1, 'conflicto': 1, 'configuraciones': 1, 'condiciones': 1, 'concisas': 1, 'colaterales': 1, 'claras': 1, 'cederselos': 1, 'caso': 1, 'casilla': 1, 'casa': 1, 'caracteristicas': 1, 'caracteristica': 1, 'cantidad': 1, 'busca': 1, 'borrar': 1, 'blog': 1, 'beneficios': 1, 'base': 1, 'basa': 1, 'atentos': 1, 'aspectos': 1, 'asi': 1, 'asegurarte': 1, 'aplique': 1, 'aplicar': 1, 'anuncio': 1, 'anunciado': 1, 'anual': 1, 'anteriores': 1, 'anime': 1, 'amplia': 1, 'ambient': 1, 'altas': 1, 'algun': 1, 'afecta': 1, 'adaptarse': 1, 'acceder': 1, '4': 1, '28': 1, '27': 1, '2018': 1, '20': 1, '2': 1, '1956': 1, '16': 1}"